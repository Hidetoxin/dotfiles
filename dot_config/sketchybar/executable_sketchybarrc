# vim: syntax=sh


# SETUP FONTS
MAIN_FONT="Hack Nerd Font"


# GRUVBOX COLORS
T_BG="0x88282828"
S_FG1="0xffebdbb2"
GLASS="0x00ffffff"
TD_RED="0x88cc241d"
SD_RED="0xffcc241d"
TD_BLUE="0x88458588"
SD_BLUE="0xff458588"
TD_GREEN="0x8898971a"
SD_GREEN="0xff98971a"
TD_PURPLE="0x88b16286"
SD_PURPLE="0xffb16286"
TD_YELLOW="0x88d79921"
SD_YELLOW="0xffd79921"


# BAR SETTINGS
sketchybar --bar    \
    color="$GLASS"  \
    height=25       \
    position="top"  \
    blur_radius=75  \
    padding_left=3  \
    padding_right=3


# GLOBAL DEFAULTS
sketchybar --default                  \
    drawing="on"                      \
    updates="when_shown"              \
    drawing="on"                      \
    icon.font="$MAIN_FONT:Bold:17.0"  \
    icon.color="$S_FG1"               \
    label.font="$MAIN_FONT:Bold:14.0" \
    label.color="$S_FG1"              \
    cache_scripts="on"

# SPACE DEFAULTS
sketchybar --default                 \
    icon.padding_left=5              \
    icon.padding_right=5             \
    label.padding_left=2             \
    label.padding_right=2            \
    background.corner_radius=4       \
    background.padding_right=8       \
    popup.background.border_width=2  \
    popup.background.corner_radius=4 \
    popup.background.border_color="$SD_GREEN"


# SETUP APPLE
sketchybar -m --add item apple.logo left
sketchybar -m --set apple.logo                                     \
    icon="ÔÖπ"                                                       \
    label.drawing=off                                              \
    click_script="sketchybar -m --set \$NAME popup.drawing=toggle" \
    background.color="$T_BG"
sketchybar -m --add item apple.preferences popup.apple.logo
sketchybar -m --set apple.preferences \
    icon="ÔÄì"                          \
    label="Preferences"               \
    click_script="open -a 'System Preferences'; sketchybar -m --set apple.logo popup.drawing=off"
sketchybar -m --add item apple.activity popup.apple.logo
sketchybar -m --set apple.activity \
    icon="Ôê∑"                       \
    label="Activity"               \
    click_script="open -a 'Activity Monitor'; sketchybar -m --set apple.logo popup.drawing=off"
sketchybar -m --add item apple.lock popup.apple.logo
sketchybar -m --set apple.lock \
    icon="ÔÄ£"                   \
    label="Lock Screen"        \
    click_script="pmset displaysleepnow; sketchybar -m --set apple.logo popup.drawing=off"


# SETUP YABAI
sketchybar --add item yabai left
sketchybar --set yabai                                         \
    icon="Ôãí"                                                   \
    script="~/.config/sketchybar/plugins/yabai.sh"             \
    update_freq=3                                              \
    click_script="~/.config/sketchybar/plugins/yabai_click.sh" \
    background.color="$TD_GREEN"
sketchybar --subscribe yabai space_change


# SETUP SKHD
sketchybar --add item skhd left
sketchybar --set skhd             \
    icon="Ôü∞"                      \
    label="üÖù"                     \
    update_freq=1                 \
    background.color="$TD_YELLOW"


# SETUP SVIM
sketchybar --add item svim.mode left
sketchybar --set svim.mode                                \
    icon="ÓüÖ"                                              \
    label="[!]"                                           \
    script="sketchybar --set svim.mode popup.drawing=off" \
    popup.align=left                                      \
    background.color="$TD_PURPLE"
skecthybar --subscribe svim.mode front_app_switched window_focus
sketchybar --add item svim.cmdline popup.svim.mode
sketchybar --set svim.cmdline icon="Óûï "


# SETUP APPS
# sketchybar -m --add item apps right
# sketchybar -m --set apps                                    \
#     icon="Ôî∫"                                                   \
#     update_freq=3                                              \
#     label.drawing="off" \
#     background.color="$T_BG"                               \
#     background.corner_radius=4


# SETUP CLOCK
sketchybar --add item clock right
sketchybar --set clock                             \
    icon="ÔÄó"                                       \
    script="~/.config/sketchybar/plugins/clock.sh" \
    update_freq=10                                 \
    background.color="$TD_GREEN"                   \
    background.corner_radius=4                     \
    background.padding_right=8


# SETUP CALENDAR
sketchybar --add item calendar right
sketchybar --set calendar                             \
    icon="ÔÅ≥"                                          \
    script="~/.config/sketchybar/plugins/calendar.sh" \
    update_freq=10                                    \
    background.color="$TD_YELLOW"                     \
    background.corner_radius=4                        \
    background.padding_right=8


# FINALIZING THE SETUP
sketchybar --update
echo "sketchybar configuration loaded.."
