# vim: syntax=toml

# PERSONAL OR COMPANY COMPUTER
{{ $computer := promptString "computer type (work/self)" -}}

[diff]
  pager = "delta"

# FETCH SECRETS FROM BITWARDEN
[data]

  [data.git]
    {{- if eq $computer "self" }}
    public_key = "{{ (bitwardenFields "item" "1d05ce7c-d3cc-4a02-8843-ad40013983dc").PublicKey.value }}"
    {{- end }}
    {{- if eq $computer "work" }}
    public_key = ""  #  add work's public ssh key
    {{- end }}

  [data.user]
    name   = "Fernando Becerra MÃ©ndez"
    {{- if eq $computer "self" }}
    email  = "{{ (bitwardenFields "item" "109264ec-2414-42c4-81ff-a981002f92a4").Email.value }}"
    gpg_id = "{{ (bitwardenFields "item" "078a43c0-9c30-4dd5-99f8-ad400179dea7").PublicKey.value }}"
    {{- end }}
    {{- if eq $computer "work" }}
    email  = ""  # add work's email
    gpg_id = ""  # add work's gpg_id
    {{- end }}

  [data.github]
    {{- if eq $computer "self" }}
    user  = "{{ (bitwarden "item" "109264ec-2414-42c4-81ff-a981002f92a4").login.username }}"
    token = "{{ (bitwardenFields "item" "109264ec-2414-42c4-81ff-a981002f92a4").Token.value }}"
    {{- end }}
    {{- if eq $computer "work" }}
    user  = ""  # add work's user
    token = ""  # add work's token
    {{- end }}

  [data.chatgpt]
    token = "{{ (bitwardenFields "item" "efe7756c-5d13-4fb9-8cec-afa9011807a2").Token.value }}"

  [data.himalaya]
    email = "{{ (bitwardenFields "item" "ec5a2a8c-7501-4093-9679-acde006f6539").Email.value }}"

  [data.computer]
    type = "{{ $computer }}"

  [data.infracost]
  {{- if eq $computer "self" }}
    token = "{{ (bitwardenFields "item" "7999bc9b-d3d8-4247-ab57-ae9201665ee0").TokenSelf.value }}"
  {{- end }}
  {{- if eq $computer "work" }}
    token = ""  # add work's token
  {{- end }}

  # TOOLS ONLY USED AT WORK GO IN HERE
  {{- if eq $computer "work" }}
  [data.jira]
    url   = ""  # add work's url
    user  = ""  # add work's user
    token = ""  # add work's token
  {{- end }}
